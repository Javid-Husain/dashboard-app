{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mdjav\\\\Downloads\\\\Telegram Desktop\\\\dashboard-app\\\\dashboard-app\\\\src\\\\components\\\\WidgetModal.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport AddWidgetForm from \"./AddWidgetForm\";\nimport { useSelector } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst WidgetModal = ({\n  isOpen,\n  onClose,\n  categories,\n  setCategories\n}) => {\n  _s();\n  const kcategories = useSelector(state => state.dashboard.categories);\n  const [activeCategory, setActiveCategory] = useState(categories[0]); // Default to the first category\n\n  // Sync categories with the Redux store and reset active category if needed\n  useEffect(() => {\n    setCategories(kcategories);\n\n    // If the active category is no longer present, reset it to the first available category\n    const updatedActiveCategory = kcategories.find(category => category.id === (activeCategory === null || activeCategory === void 0 ? void 0 : activeCategory.id)) || kcategories[0]; // Default to the first category if not found\n\n    setActiveCategory(updatedActiveCategory);\n  }, [kcategories, activeCategory === null || activeCategory === void 0 ? void 0 : activeCategory.id, setCategories]);\n  if (!isOpen) return null;\n  const handleCategoryClick = category => {\n    setActiveCategory(category); // Update the active category when clicked\n  };\n  const handleCheckBoxChange = widgetId => {\n    const updatedCategories = categories.map(category => {\n      if (category.id === activeCategory.id) {\n        // For the active category, update the widget\n        const updatedWidgets = category.widgets.map(widget => {\n          if (widget.id === widgetId) {\n            return {\n              ...widget,\n              showit: !widget.showit // Toggle the showit property\n            };\n          }\n          return widget;\n        });\n        return {\n          ...category,\n          widgets: updatedWidgets // Update widgets of the active category\n        };\n      }\n      return category; // No change to other categories\n    });\n\n    // Update the categories state\n    setCategories(updatedCategories);\n\n    // Update the active category\n    const updatedActiveCategory = updatedCategories.find(category => category.id === activeCategory.id);\n    setActiveCategory(updatedActiveCategory);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Add Widget\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"close-button\",\n          onClick: onClose,\n          children: \"X\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"category-tabs\",\n        children: categories.map(category => /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `category-tab ${activeCategory.id === category.id ? \"active\" : \"\"}`,\n          onClick: () => handleCategoryClick(category),\n          children: category.name\n        }, category.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"widget-list\",\n        children: [activeCategory.widgets.map(widget => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"widget-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            onChange: () => handleCheckBoxChange(widget.id),\n            checked: widget.showit || false\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: widget.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 15\n          }, this)]\n        }, widget.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this)), /*#__PURE__*/_jsxDEV(AddWidgetForm, {\n          categoryId: activeCategory.id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"ok-btn\",\n          onClick: onClose,\n          children: \"Ok\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n_s(WidgetModal, \"GyPG7EUN8wE2WfQGJuKhOWKP6QA=\", false, function () {\n  return [useSelector];\n});\n_c = WidgetModal;\nexport default WidgetModal;\nvar _c;\n$RefreshReg$(_c, \"WidgetModal\");","map":{"version":3,"names":["React","useEffect","useState","AddWidgetForm","useSelector","jsxDEV","_jsxDEV","WidgetModal","isOpen","onClose","categories","setCategories","_s","kcategories","state","dashboard","activeCategory","setActiveCategory","updatedActiveCategory","find","category","id","handleCategoryClick","handleCheckBoxChange","widgetId","updatedCategories","map","updatedWidgets","widgets","widget","showit","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","name","type","onChange","checked","categoryId","_c","$RefreshReg$"],"sources":["C:/Users/mdjav/Downloads/Telegram Desktop/dashboard-app/dashboard-app/src/components/WidgetModal.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport AddWidgetForm from \"./AddWidgetForm\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst WidgetModal = ({ isOpen, onClose, categories, setCategories }) => {\r\n  const kcategories = useSelector((state) => state.dashboard.categories);\r\n  const [activeCategory, setActiveCategory] = useState(categories[0]); // Default to the first category\r\n\r\n  // Sync categories with the Redux store and reset active category if needed\r\n  useEffect(() => {\r\n    setCategories(kcategories);\r\n\r\n    // If the active category is no longer present, reset it to the first available category\r\n    const updatedActiveCategory = kcategories.find(\r\n      (category) => category.id === activeCategory?.id\r\n    ) || kcategories[0]; // Default to the first category if not found\r\n\r\n    setActiveCategory(updatedActiveCategory);\r\n  }, [kcategories, activeCategory?.id, setCategories]);\r\n\r\n  if (!isOpen) return null;\r\n\r\n  const handleCategoryClick = (category) => {\r\n    setActiveCategory(category); // Update the active category when clicked\r\n  };\r\n\r\n  const handleCheckBoxChange = (widgetId) => {\r\n    const updatedCategories = categories.map((category) => {\r\n      if (category.id === activeCategory.id) {\r\n        // For the active category, update the widget\r\n        const updatedWidgets = category.widgets.map((widget) => {\r\n          if (widget.id === widgetId) {\r\n            return {\r\n              ...widget,\r\n              showit: !widget.showit, // Toggle the showit property\r\n            };\r\n          }\r\n          return widget;\r\n        });\r\n        return {\r\n          ...category,\r\n          widgets: updatedWidgets, // Update widgets of the active category\r\n        };\r\n      }\r\n      return category; // No change to other categories\r\n    });\r\n\r\n    // Update the categories state\r\n    setCategories(updatedCategories);\r\n\r\n    // Update the active category\r\n    const updatedActiveCategory = updatedCategories.find(\r\n      (category) => category.id === activeCategory.id\r\n    );\r\n    setActiveCategory(updatedActiveCategory);\r\n  };\r\n\r\n  return (\r\n    <div className=\"modal-container\">\r\n      <div className=\"modal-content\">\r\n        <div className=\"modal-header\">\r\n          <h2>Add Widget</h2>\r\n          <button className=\"close-button\" onClick={onClose}>\r\n            X\r\n          </button>\r\n        </div>\r\n\r\n        {/* Tabs for categories */}\r\n        <div className=\"category-tabs\">\r\n          {categories.map((category) => (\r\n            <button\r\n              key={category.id}\r\n              className={`category-tab ${\r\n                activeCategory.id === category.id ? \"active\" : \"\"\r\n              }`}\r\n              onClick={() => handleCategoryClick(category)}\r\n            >\r\n              {category.name}\r\n            </button>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Widget list for the active category */}\r\n        <div className=\"widget-list\">\r\n          {activeCategory.widgets.map((widget) => (\r\n            <div key={widget.id} className=\"widget-item\">\r\n              <input\r\n                type=\"checkbox\"\r\n                onChange={() => handleCheckBoxChange(widget.id)}\r\n                checked={widget.showit || false}\r\n              />\r\n              <span>{widget.name}</span>\r\n            </div>\r\n          ))}\r\n          <AddWidgetForm categoryId={activeCategory.id} />\r\n          <button className=\"ok-btn\" onClick={onClose}>Ok</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WidgetModal;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}